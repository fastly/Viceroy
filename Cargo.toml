[workspace]
members = [
    "cli",
    "lib",
]

# Exclude our integration test fixtures, which need to be compiled to wasm
# (managed by the Makefile)
exclude = [
    "test-fixtures",
]

# Specify `cli` as the default workspace member to operate on. This means that
# commands like `cargo run` will run the CLI binary by default.
# See: https://doc.rust-lang.org/cargo/reference/workspaces.html#package-selection
default-members = [ "cli" ]

[profile.dev]
# Since some of the integration tests involve compiling Wasm, a little optimization goes a long way
# toward making the test suite not take forever
opt-level = 1

[workspace.dependencies]
anyhow = "1.0.31"
hyper = { version = "=0.14.26", features = ["full"] }
itertools = "0.10.5"
serde_json = "1.0.59"
tokio = { version = "1.21.2", features = ["full"] }
tracing = "0.1.37"
tracing-futures = "0.2.5"
wasi-common = "10.0.0"
wasmtime = "10.0.0"
futures = "0.3.24"
url = "2.3.1"
